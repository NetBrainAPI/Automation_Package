---
driver-list:
  - Cisco Nexus Switch
feature-list:
  - feature-name: fabricpath
    patterns-to-match:
      - patterns:
          - regex: fabricpath switch-id \d+
          - regex: mode fabricpath
    op-cmds:
      - show fabricpath isis
      - show fabricpath isis adjacency
      - show fabricpath route
      - show mac address-table
  - feature-name: glbp
    patterns-to-match:
      - patterns:
          - mregex: interface .+ glbp \d+
    op-cmds:
      - show run glbp
      - show glbp //done
    dvt:
      node-type: Legacy Device
      filter-criteria:
        device-type:
          - Cisco Nexus Switch
        feature-name:
          - glbp
      interface-position:
        - interface-type: IPv4 Interface
          position:
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show glbp
                [Cisco Nexus Switch]
              variable: intfs.group_id
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show glbp
                [Cisco Nexus Switch]
              variable: intfs.virtual_ip
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show glbp
                [Cisco Nexus Switch]
              variable: intfs.priority
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show glbp
                [Cisco Nexus Switch]
              variable: intfs.active_ip
  - feature-name: hsrp
    patterns-to-match:
      - patterns:
          - mregex: interface .+ hsrp \d+
    op-cmds:
      - show run hsrp
      - show hsrp //done
    dvt:
      node-type: Legacy Device
      filter-criteria:
        device-type:
          - Cisco Nexus Switch
        feature-name:
          - hsrp
      interface-position:
        - interface-type: IPv4 Interface
          position:
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show hsrp
                [Cisco Nexus Switch]
              variable: intfs.group_id
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show hsrp
                [Cisco Nexus Switch]
              variable: intfs.virtual_ip
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show hsrp
                [Cisco Nexus Switch]
              variable: intfs.priority
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show hsrp
                [Cisco Nexus Switch]
              variable: intfs.active_ip
  - feature-name: interfaces
    op-cmds:
      - show interface //done
      - show interface status //done
      - show interface transceiver details //done
    dvt:
      node-type: Legacy Device
      filter-criteria:
        device-type:
          - Cisco Nexus Switch
        feature-name:
          - interfaces
      interface-position:
        - interface-type: IPv4 Interface
          position:
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show interface
                [Cisco Nexus Switch]
              variable: intfs.status
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show interface
                [Cisco Nexus Switch]
              variable: intfs.mac_addr
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show interface
                [Cisco Nexus Switch]
              variable: intfs.ip_addr
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show interface
                [Cisco Nexus Switch]
              variable: intfs.mtu
  - feature-name: bgp
    patterns-to-match:
      - patterns:
          - regex: router bgp \S+
    op-cmds:
      - show run bgp
      - show ip bgp neighbors //done
      - show ip route bgp
      - show ip bgp
      - show ip bgp summary //done
      - show bgp all summary //done
      - show bgp vpnv4 unicast summary //done
    dvt:
      node-type: Legacy Device
      filter-criteria:
        device-type:
          - Cisco Nexus Switch
        feature-name:
          - bgp
      device-position:
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show bgp all
            summary [Cisco Nexus Switch]
          variable: rid
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show bgp all
            summary [Cisco Nexus Switch]
          variable: local_as
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show bgp all
            summary [Cisco Nexus Switch]
          variable: bgp_ipv4_nbr
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show bgp all
            summary [Cisco Nexus Switch]
          variable: bgp_vpnv4_nbr
  - feature-name: eigrp
    patterns-to-match:
      - patterns:
          - regex: router eigrp \S+
    configlets:
      - router eigrp 200
    op-cmds:
      - show ip eigrp neighbors //done
      - show run eigrp
      - show ip eigrp interfaces //done
      - show ip eigrp neighbor detail
      - show ip eigrp events
      - show ip eigrp topology
      - show ip route eigrp
      - show ip eigrp //done
    dvt:
      node-type: Legacy Device
      filter-criteria:
        device-type:
          - Cisco Nexus Switch
        feature-name:
          - eigrp
      device-position:
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip eigrp
            [Cisco Nexus Switch]
          variable: eigrp_as
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip eigrp
            neighbors [Cisco Nexus Switch]
          variable: eigrp_nbrs
      interface-position:
        - interface-type: IPv4 Interface
          position:
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip eigrp
                interfaces [Cisco Nexus Switch]
              variable: eigrp_intfs.peers
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip eigrp
                interfaces [Cisco Nexus Switch]
              variable: eigrp_intfs.authentication_mode
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip eigrp
                interfaces [Cisco Nexus Switch]
              variable: eigrp_intfs.pending_routes
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip eigrp
                interfaces [Cisco Nexus Switch]
              variable: eigrp_intfs.retransmissions_sent
  - feature-name: igmp
    patterns-to-match:
      - patterns:
          - mregex: interface .+ ip igmp .+
    op-cmds:
      - show ip igmp interface //done
      - show ip igmp interface brief
      - show ip igmp snooping
      - show ip igmp local-groups
      - show ip igmp route
      - show running-config igmp
      - show ip igmp groups //done
    dvt:
      node-type: Legacy Device
      filter-criteria:
        device-type:
          - Cisco Nexus Switch
        feature-name:
          - igmp
      interface-position:
        - interface-type: IPv4 Interface
          position:
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip igmp
                interface [Cisco Nexus Switch]
              variable: ip_igmp_intf.ip_addr
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip igmp
                interface [Cisco Nexus Switch]
              variable: ip_igmp_intf.intf_status
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip igmp
                interface [Cisco Nexus Switch]
              variable: ip_igmp_intf.ip_subnet
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip igmp
                interface [Cisco Nexus Switch]
              variable: ip_igmp_intf.intf_pim_dr
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip igmp
                interface [Cisco Nexus Switch]
              variable: ip_igmp_intf.igmp_version
  - feature-name: ospf
    patterns-to-match:
      - patterns:
          - regex: router ospf \S+
    configlets:
      - router ospf 200
    op-cmds:
      - show ip ospf neighbor //done
      - show run ospf
      - show ip ospf interface //done
      - show ip ospf neighbor detail
      - show ip ospf //done
      - show ip route ospf
      - show ip ospf database database-summary //done
    dvt:
      node-type: Legacy Device
      filter-criteria:
        device-type:
          - Cisco Nexus Switch
        feature-name:
          - ospf
      device-position:
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf
            database database-summary [Cisco Nexus Switch]
          variable: process_database_summary
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf
            database database-summary [Cisco Nexus Switch]
          variable: area_database_summary
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf [Cisco
            Nexus Switch]
          variable: area
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf [Cisco
            Nexus Switch]
          variable: processes
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf
            neighbor [Cisco Nexus Switch]
          variable: ospf_neighbors
      interface-position:
        - interface-type: IPv4 Interface
          position:
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf
                interface [Cisco Nexus Switch]
              variable: ospf_interfaces.area_id
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf
                interface [Cisco Nexus Switch]
              variable: ospf_interfaces.authentication
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf
                interface [Cisco Nexus Switch]
              variable: ospf_interfaces.process_id
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf
                interface [Cisco Nexus Switch]
              variable: ospf_interfaces.network_type
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip ospf
                interface [Cisco Nexus Switch]
              variable: ospf_interfaces.designated_router_id
  - feature-name: pim
    patterns-to-match:
      - patterns:
          - mregex: interface .+ ip pim .+
    configlets:
      - |
        interface Ethernet4/1
          ip pim sparse-mode
    op-cmds:
      - show ip pim neighbor //done
      - show ip pim interface //done
      - show ip pim rp //done
      - show ip pim group
      - show ip mroute //done
    dvt:
      node-type: Legacy Device
      filter-criteria:
        device-type:
          - Cisco Nexus Switch
        feature-name:
          - pim
      device-position:
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip pim
            neighbor [Cisco Nexus Switch]
          variable: ip_pim_neighbor
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip pim rp
            [Cisco Nexus Switch]
          variable: auto_rp
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip pim rp
            [Cisco Nexus Switch]
          variable: bsr
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip mroute
            [Cisco Nexus Switch]
          variable: outgoing_interface_list
        - parser: >-
            Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip mroute
            [Cisco Nexus Switch]
          variable: groups
      interface-position:
        - interface-type: IPv4 Interface
          position:
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip pim
                interface [Cisco Nexus Switch]
              variable: ip_pim_interface.interface_status
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip pim
                interface [Cisco Nexus Switch]
              variable: ip_pim_interface.pim_dr
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip pim
                interface [Cisco Nexus Switch]
              variable: ip_pim_interface.pim_nbr_count
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip pim
                interface [Cisco Nexus Switch]
              variable: ip_pim_interface.pim_nbr_policy
            - parser: >-
                Built-in Files/Network Vendors/Cisco/Cisco Nexus/show ip pim
                interface [Cisco Nexus Switch]
              variable: ip_pim_interface.pim_border_interface
  - feature-name: isis
    patterns-to-match:
      - patterns:
          - regex: router isis \S+
    configlets:
      - router isis datacenter1
    op-cmds:
      - show run isis
      - show isis interface //done
      - show isis
      - show isis adjacency //done
      - show isis adjacency detail //done
      - show isis protocol //done
      - show isis statistics //done
  - feature-name: port-channel
    patterns-to-match:
      - patterns:
          - regex: channel-group \d+ mode \S+$
    configlets:
      - channel-group 100 mode on
    op-cmds:
      - show port-channel load-balance
      - show port-channel compatibility-parameters
      - show port-channel summary
      - show port-channel rbh-distribution
      - show port-channel traffic
  - feature-name: port-profile
    patterns-to-match:
      - patterns:
          - regex: port-profile \S+$
          - regex: inherit port-profile \S+$
    configlets:
      - port-profile COMMUNITY1
      - inherit port-profile COMMUNITY1
    op-cmds:
      - show port-profile
  - feature-name: snmp
    patterns-to-match:
      - patterns:
          - regex: snmp-server community .+
    op-cmds:
      - show snmp
      - show snmp user
  - feature-name: spanning-tree
    patterns-to-match:
      - patterns:
          - regex: spanning-tree mode \S+
    configlets:
      - spanning-tree mode rapid-pvst
      - spanning-tree mode mst
    op-cmds:
      - show spanning-tree //done
      - show run spanning-tree
      - show spanning-tree root
      - show spanning-tree bridge address //done
      - show spanning-tree mst configuration //done
      - show spanning-tree root //done
      - show spanning-tree summary //done
      - show vlan brief //done
  - feature-name: udld
    patterns-to-match:
      - patterns:
          - regex: feature udld
    configlets:
      - feature udld
    op-cmds:
      - show udld
      - show udld global
      - show udld neighbors
  - feature-name: vdc
    patterns-to-match:
      - patterns:
          - regex: vdc \S+$
    configlets:
      - |
        vdc MyDevice
    op-cmds:
      - show resource
      - show vdc
      - show vdc detail //done
      - show vdc membership
      - show vdc membership status
      - show vdc resource //done
      - show vdc resource port-channel
      - show vdc resource port-channel detail
      - show running-config vdc-all
  - feature-name: private-vlan
    patterns-to-match:
      - patterns:
          - regex: private-vlan \S+$
    op-cmds:
      - show interface private-vlan mapping
      - show vlan private-vlan
  - feature-name: vpc
    patterns-to-match:
      - patterns:
          - regex: feature vpc
          - mregex: interface port-channel \d+.+vpc \d+$
    op-cmds:
      - show vpc orphan-ports
      - show vpc
      - show vpc consistency-parameters global
  - feature-name: vrrp
    patterns-to-match:
      - patterns:
          - mregex: interface .+ vrrp \d+
    op-cmds:
      - show run vrrp
      - show vrrp
      - show vrrp detail //done
  - feature-name: vtp
    patterns-to-match:
      - patterns:
          - regex: vtp domain \S+$
    configlets:
      - vtp domain cisco
    op-cmds:
      - show vtp counters
      - show vtp status //done
      - show vtp interface
      - show vtp password //done
      - show vtp devices
  - feature-name: mpls
    patterns-to-match:
      - patterns:
          - regex: feature-set mpls
    configlets:
      - feature-set mpls
    op-cmds:
      - show mpls interfaces detail //done
      - show mpls ldp neighbor //done
      - show mpls switching //done
  - feature-name: generic
    patterns-to-match:
      - patterns: null
    configlets: null
    op-cmds:
      - show interface status err-disabled //done
      - show interface switchport //done
      - show interface trunk //done
      - show ip interface //done
      - show module //done
      - show processes memory //done
      - show processes cpu //done
      - show system redundancy status //done
      - show tacacs-server //done
      - show version //done
      - show vrf all detail //done
      - show vrf interface //done
      - show system resources //done
